(this.webpackJsonpecohouse_v2=this.webpackJsonpecohouse_v2||[]).push([[0],{14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(7),s=n.n(c),o=(n(14),n(4)),u=n(9),i=n(6),h=n.n(i),l=n(8),d="/getAllTempData",f=function(){var e=Object(l.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("https://8o8h5nqi81.execute-api.eu-west-2.amazonaws.com").concat(d)).then((function(e){return e.json()})).then((function(e){return e.Items})).catch((function(){return console.error("Couldn't fetch data"),[]})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=n(0);function j(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),s=Object(o.a)(c,2),i=s[0],h=s[1],l=n.map((function(e){return e.temp})),d=n.map((function(e){return e.timestamp}));return Object(a.useEffect)((function(){f().then(r)}),[]),Object(a.useEffect)((function(){var e=function(e,t){return new u.a("myChart",{type:"line",data:{labels:t,datasets:[{data:e,borderWidth:1,borderColor:"#AB2B00",backgroundColor:"#D13400",label:"Temp"}]}})}(l,d);h(e)}),[]),Object(a.useEffect)((function(){i&&(!function(e,t,n){e.data.labels=n,e.data.datasets[0].data=t,e.update()}(i,l,d),i.update())}),[i,l,d]),Object(b.jsx)("div",{className:"bg-white border-transparent rounded-lg shadow-xl p-10",children:Object(b.jsx)("canvas",{id:"myChart"})})}var p=function(){var e=(new Date).getFullYear();return Object(b.jsxs)("div",{className:"h-screen bg-gray-800 p-3",children:[Object(b.jsx)("header",{className:"text-2xl font-bold text-white h-1/6 flex justify-center",children:"Eco house - dashboard"}),Object(b.jsx)("main",{className:"mx-auto w-10/12 h-4/6",children:Object(b.jsx)(j,{})}),Object(b.jsxs)("footer",{className:"h-1/6 flex items-center justify-center w-full h-24 border-t text-white",children:["Created with \u2615 \xa0",Object(b.jsx)("a",{className:"hover:text-gray-400",href:"https://www.jkrymarys.pl/",children:"\xa0jkrymarys.pl\xa0"}),"\xa9\xa0",e]})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(p,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.2c4d1780.chunk.js.map