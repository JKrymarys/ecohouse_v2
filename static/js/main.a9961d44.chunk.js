(this.webpackJsonpecohouse_v2=this.webpackJsonpecohouse_v2||[]).push([[0],{17:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(2),r=n.n(a),c=n(10),s=n.n(c),o=(n(17),n(7)),i=(n(18),n(11)),u=n(9),h=n.n(u),l=n(12),d="/getAllTempData",f=function(){var t=Object(l.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat("https://8o8h5nqi81.execute-api.eu-west-2.amazonaws.com").concat(d)).then((function(t){return t.json()})).then((function(t){return t.Items})).catch((function(){return console.error("Couldn't fetch data"),[]})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=n(0);function p(){var t=Object(a.useState)([]),e=Object(o.a)(t,2),n=e[0],r=e[1],c=Object(a.useState)(),s=Object(o.a)(c,2),u=s[0],h=s[1],l=n.map((function(t){return{x:t.timestamp,y:t.temp}}));return Object(a.useEffect)((function(){f().then(r)}),[]),Object(a.useEffect)((function(){var t=function(t){return new i.a("myChart",{type:"line",data:{datasets:[{data:t,borderWidth:1,borderColor:"#AB2B00",backgroundColor:"#D13400",label:"Temp"}]},options:{maintainAspectRatio:!1,scales:{x:{type:"time",time:{tooltipFormat:"lll"},title:{display:!0,text:"Date"}}}}})}(l);h(t)}),[]),Object(a.useEffect)((function(){u&&(!function(t,e){t.data.datasets[0].data=e,t.update()}(u,l),u.update())}),[u,l]),Object(j.jsx)("div",{className:"bg-white border-transparent rounded-lg shadow-xl p-10",style:{position:"relative",height:"60vh",width:"80vw"},children:Object(j.jsx)("canvas",{id:"myChart"})})}var b=function(){var t=(new Date).getFullYear();return Object(j.jsxs)("div",{className:"h-screen bg-gray-800 p-3",children:[Object(j.jsx)("header",{className:"text-2xl font-bold text-white h-1/6 flex justify-center",children:"Eco house - dashboard"}),Object(j.jsx)("main",{className:"mx-auto w-10/12 h-4/6",children:Object(j.jsx)(p,{})}),Object(j.jsxs)("footer",{className:"h-1/6 flex items-center justify-center w-full h-24 border-t text-white",children:["Created with \u2615 \xa0",Object(j.jsx)("a",{className:"hover:text-gray-400",href:"https://www.jkrymarys.pl/",children:"\xa0jkrymarys.pl\xa0"}),"\xa9\xa0",t]})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),a(t),r(t),c(t),s(t)}))};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root")),m()}},[[22,1,2]]]);
//# sourceMappingURL=main.a9961d44.chunk.js.map